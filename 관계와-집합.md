# 관계와 집합

## 관계

1. 자연수 집합 $\{0,1,2,3,...\}$ 을 심볼 $\mathbb{N}$ 으로 나타내고, 어떤 집합이 자연수 집합에 대해 1대1 대응이 된다면 셀 수 있는 (countable) 집합이라고 한다.
2. 집합 $S_1, S_2, ..., S_n$ 에 대해 집합 $R \subseteq S_1 \times S_2 \times ... \times S_n$ 은 $S_1$부터 $S_n$ 의 원소들의 튜플들의 집합이다. 이때 $R$ 은 n항 관계라고 부른다.
3. 집합 $S$에 정의된 단항 관계 $P$는 단항 관계, 혹은 술어(predicate) 라고 부른다. 술어라고 부르는 이유는 $s \in S \  \text{if} \ s \in P$ 기 때문이다. 그래서 $P(s)$ 라고 쓰기도 한다. 프로그래밍 언어 식으로 표현하면 S -> bool 인 함수라고 생각할 수 있나보다. (Clojure 식으로 생각해보면, struct 인스턴스에 심볼을 넘겼을 때 심볼값 대신 T/F가 나오는 느낌)
4. 관계 $R$ 이 집합 $S$ 와 $T$ 에 대해 정의되면 이항 관계라고 부른다. 이것을 $(s,t) \in R$ 대신 $s\ R\ t$ 라고 쓰기도 한다. 만약 $S$ 와 $T$ 가 같은 집합 $U$ 라면 $R$ 을 $U$ 에 대한 이항 관계라고 부른다.
5. 집합 $S$와 $T$에 정의된 관계 $R$의 정의역은 $dom(R)$ 이라고 하고, 어떤 $t$가 있을 때 $(s,t) \in R$ 인 $s \in S$이다. 관계 $R$ 의 공역은 $range(R)$ 이라 하고, 어떤 $s$가 있을 때 $(s,t) \in R$ 인 $t \in T$이다.
6. 집합 $S$와 $T$에 정의된 관계 $R$이 있을 때, $R$이 부분 함수이려면 $
(s, t_1) \in R
$ 과 $(s,t_2) \in R$ 일 때 $t_1 = t_2$ 여야 한다 (부분 함수가 아니라면 $t_1 \neq t_2$ 일 수도 있다. 즉, 정의역의 원소 중 하나가 공역의 원소 여러개로 대응되어서는 안 된다는 뜻이다). 또한  $dom(R) = S$ 라면 $R$을 전함수 (total function), 혹은 함수라고 부른다 ($S$의 모든 원소들이 $T$에 대응될 때).
7. 관계 $R$이 $S$와 $T$에 정의된 부분 함수일 때, 아규먼트 $s \in S$가 만약 $s \in dom(R)$이면 $R$이 $s$에서 정의되었다 (defined) 고 표현하고, 그렇지 않으면 정의되지 않았다 (undefined) 고 한다. 정의되지 않았을 때는 $f(x) \uparrow$ 나 $f(x) = \uparrow$ 라고 나타내고, 정의되었을 때는 $f(x) \downarrow
$처럼 나타낸다.
8. 관계 $R$이 집합 $S$에 대한 이항관계라 하고, $P$는 $S$에 대한 predicate라고 하자. $s\ R\ s'$이고 $P(s)$일 때 $P(s')$이면 $P$가 $R$에 의해 보존된다 (preserved) 고 말한다.

## 순서집합

1. 집합 $S$에 정의된 관계 $R$이 있을 때, $\forall s \in S\ ((s,s) \in R)$ 이면 반사적(reflexive) 관계, 집합 $S$의 모든 $s$와 $t$에 대해 $s\ R\ t$ 가 $t\ R\ s$를 의미하면 대칭(symmetric) 관계, 마찬가지로 $S$의 모든 $s$, $t$, $u$ 에 대해 $s\ R\ t$와 $t\ R\ u$가 $s\ R\ u$를 의미하면 추이적(transitive) 관계, $s\ R\ t$ 면서 $t\ R\ s$ 이고  $s = t$ 이면 반대칭(antisymmetric) 관계라 한다.
    - 얼핏 반대칭 관계와 반사적 관계가 같은 것으로 느껴져서 다시 봤다. 반사적 관계는 S에 forall 임을 잊지 말아야 한다. 공집합이 아닌 집합 $A = \{1\}$ 와 비어 있는 관계 $R = \emptyset$ 을 생각해보면, 딱 봐도 반사적 관계는 아니지만 (왜냐면 $(1, 1) \notin R$) 반대칭 관계 $\forall (a,b),(b,a) \in R, a = b$ 는 (설령 R이 비어있더라도) 상관없음을 알 수 있다. ([참고](https://math.stackexchange.com/questions/1175297/is-antisymmetric-the-same-as-reflexive))
2. 집합에 정의된 반사적이고 추이적인 관계 $R$은 $S$의 pre-order (원순서) 라고 부르고, $\le$나  $\sqsubseteq$처럼 나타낸다. 여기서 $R$ 이 만약 반대칭 관계라는 조건도 추가되면 부분순서라고 부른다.
    - 원순서부터 살펴보자. 왜 이게 순서를 나타낼 수 있는지 좀 생각해보니, 반사적인 특징을 통해 "같음" 을 정의하고, 추이적인 특징을 통해 "작음" 혹은 "큼" 을 정의할 수 있기 때문인 것 같다. 결과적으로 같거나 작음 혹은 같거나 큼을 나타낼 수 있게 된다. (근데 그러면 추이적인 특징만 있을 때 작음 혹은 큼을 나타낼 수 있는건가?) 따라서, $S$의 모든 원소 $x, y, z$에 대해 $x \le x$이고 (반사적), $(x \le y \land y \le z) \implies x \le z$ (추이적) 이다.
    - 원순서에서 반대칭관계라는 조건이 붙으면 부분순서 (partial order) 라고 부른다. 동등관계를 $\le$ 를 통해 정의하는 느낌이다 ㅋㅋ (이걸 식으로 나타내면 $\forall x,y \in S \space ((x \le y \land y \le x) \implies x = y)$ 이다) 여기서도 반사적인 관계랑 반대칭인 관계가 뭐가 다른지 자꾸 헷갈려서 구별이 안되는 느낌이 드는데, 다시 단순하게 생각해보니 반사적 관계에서는 원소 각각만 바라보는 반면 반대칭관계에선 두 개의 원소를 놓고 본다. 즉 애시당초부터 두 원소간의 동등함은 반사적인 관계만으로 테스트하는 게 불가능하다.
    - 이제 여기서 $S$의 모든 원소 $s, t$에 대해 $s \le t \lor t \le s$ 이면 전순서 (total order) 라고 부른다. 얼핏 부분순서보다 더 확장된 것 같지만 사실은 제약조건이 붙음으로서 축소가 되었다. 왜 그런지 집합 연산 $\subset$ 와, 집합 $\{0, 1\}$ 과 그 부분집합들인 $\{\emptyset\}, \{0\}, \{1\}, \{0, 1\}$ 을 고려해 보자. 먼저, $\subset$ 은 partial order이다. 왜냐하면 저 부분집합 중 아무 집합을 갖고와서 봐도 $A \subset A$ 가 성립하고 (반사적), $(A \subset B \land B \subset C) \implies A \subset C)$ 이며 (추이적), $(A \subset B \land B \subset A) \implies A = B)$ (반대칭) 이라서 그렇다. 하지만 $A \subset B \lor B \subset A$ 가 말이 될까? $A = \{0\}, B = \{1\}$ 이라는 반례가 존재한다. 따라서 집합 $X = \{\emptyset, \{0\}, \{1\}, \{0,1\}\}$ 에 정의된 관계 $\subset$ 는 부분순서지만 전순서는 아니다.